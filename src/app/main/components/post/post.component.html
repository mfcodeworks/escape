<!-- App Top Bar -->
<app-top-bar #header></app-top-bar>

<!-- Container -->
<ion-content
    [fullscreen]="true"
    scrollEvents='true'
    appHideToolbar
    [header]='header'>
    <ion-list *ngIf="this.post" class="mb-5">
        <app-post-view
            [post]=post
            [preview]=false
            (deleted)="location.back()"></app-post-view>
    </ion-list>

    <!-- Comment Input -->
    <!-- TODO: Re-implement mentions -->
    <div #commentForm class="app-background-color comment-form w-100 px-2">
        <mat-form-field appearance="standard" class="w-100" style="top: -8px;">
            <mat-label>Comment&hellip;</mat-label>
            <ng-template #mentionListTemplate let-item="item">
                <ion-text color='dark'><strong>{{item.label}}</strong></ion-text>
            </ng-template>
            <textarea matInput
                cdkTextareaAutosize
                #autosize="cdkTextareaAutosize"
                cdkAutosizeMinRows="2"
                cdkAutosizeMaxRows="2"
                #comment
                [disabled]="sending"></textarea>
            <!-- Send comment to server -->
            <mat-icon matSuffix (click)="sending ? null: postComment()">
                <i #commentButton
                    class="fas"
                    [class.fa-paper-plane]="!sending"
                    [class.fa-spinner]="sending"
                    [class.fa-spin]="sending"></i>
            </mat-icon>
        </mat-form-field>
    </div>
</ion-content>
