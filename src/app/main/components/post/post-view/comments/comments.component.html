<!-- Comment Display Row -->
<div *ngIf="preview" [routerLink]="['/app', 'post', post.id]">
    <b class="mat-h3 ml-2 mt-2" ><ion-text color='dark'>View more comments</ion-text></b>

    <div *ngIf="post.comments.length" class='my-2 ml-4'>
        <ng-container *ngFor="let comment of post.comments.slice(0,2)">
            <p class='mb-1' id="comment{{comment.id}}">
                <ion-text color='dark'>
                    <b [routerLink]="['/app', 'profile', comment.author.username]">{{comment.author.username}}</b> {{comment.text}}
                </ion-text>
            </p>
        </ng-container>
    </div>
</div>

<ng-container *ngIf="!preview">
    <p *ngIf="post.comments.length == 0" class="mat-body mt-3">
        <ion-text color='medium'>I've Got Nothing</ion-text>
    </p>

    <ng-container *ngIf="post.comments.length">
        <div *ngFor="let comment of post.comments"
            class="d-flex comment-container my-3"
            id="comment{{comment.id}}"
            (appLonghold)="openDialog(comment)">
            <ion-avatar class='mr-3 avatar'>
                <img [src]="comment.author.profilePic" [routerLink]="['/app', 'profile', comment.author.username]"/>
            </ion-avatar>
            <span class="d-flex comment-text-container w-100">
                <p class="mb-0">
                    <ion-text color='dark'>
                        <b [routerLink]="['/app', 'profile', comment.author.username]">{{comment.author.username}}</b>&nbsp;<span [innerHTML]="comment.text | tag" appRouteTransformer></span>
                    </ion-text>
                </p>
                <p matSmall class="datetime"><ion-text color='medium'>{{comment.createdAt | dateDiff}}</ion-text></p>
            </span>
        </div>
    </ng-container>
</ng-container>